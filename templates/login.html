{% extends 'base.html' %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<h1 class="display-1">Login</h1>
<p class="lead text-center">Login Below. Don't have an account? <a href="/register">Register here</a></p>

<form method="POST">
  {{ form.hidden_tag() }}
  {% for field in form if field.widget.input_type != 'hidden' %}
  <div class="form-group">
    {{ field.label(class="form-label") }}
    {{ field(class_="form-control") }}
    {% for error in field.errors %}
    <span class="form-text text-danger">{{ error }}</span>
    {% endfor %}
  </div>
  {% endfor %}
  <button class="btn btn-success" type="submit">Login</button>
</form>

{% endblock %}
